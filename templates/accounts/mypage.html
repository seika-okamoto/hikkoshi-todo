{% extends 'base.html' %}

{% block content %}
<h2>ãƒã‚¤ãƒšãƒ¼ã‚¸</h2>

<p>ğŸ‘¤ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼š {{ profile.user.username }}
  <a href="{% url 'accounts:edit_username' %}" id="editUsernameBtn">ç·¨é›†ã™ã‚‹</a>
</p>

<p>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: {{ profile.user.email }}
  <a href="{% url 'accounts:edit_email' %}">å¤‰æ›´ã™ã‚‹</a>
</p>

<p>å¼•ã£è¶Šã—äºˆå®šæ—¥: {{ profile.planned_move_date|default:"æœªè¨­å®š" }}</p>

<p><a href="{% url 'accounts:change_password' %}">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹</a></p>

<p><a href="{% url 'accounts:comment_history' %}">è‡ªåˆ†ã®ã‚³ãƒ¡ãƒ³ãƒˆå±¥æ­´ã‚’è¦‹ã‚‹</a></p>

<p><a href="{% url 'accounts:about_app' %}">ã€Œã²ã£ã“ã—ToDoã€ã«ã¤ã„ã¦</a></p>

<!-- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°éƒ¨åˆ†ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
<div id="editDialog" style="display:none; border:1px solid #ccc; padding:10px; margin:10px 0;">
  <form method="POST" action="{% url 'accounts:edit_username' %}">
    {% csrf_token %}
    <label>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’ç·¨é›†ã—ã¦ãã ã•ã„</label><br>
    <input type="text" name="username" value="{{ profile.user.username }}"><br>
    <button type="submit">ä¿å­˜</button>
    <button type="button" id="cancelEdit">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
  </form>
</div>

<p><a href="{% url 'home:index' %}">ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</a></p>

<script>
  document.getElementById('editUsernameBtn').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('editDialog').style.display = 'block';
  });

  document.getElementById('cancelEdit').addEventListener('click', function() {
    document.getElementById('editDialog').style.display = 'none';
  });
</script>
{% endblock %}


