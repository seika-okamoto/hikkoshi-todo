# import_tasks.py

import os
import django

# プロジェクトの設定を読み込む
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "config.settings")
django.setup()

from todo.models import Task
from django.contrib.auth import get_user_model
User = get_user_model()

user = User.objects.get(email="あなたのログイン中のメールアドレス")


# 雛形データ（カテゴリ＋タスク）
tasks_data = {
    "引っ越し1か月前までにやること": [
        "引っ越し日を決定する",
        "引っ越し業者探し（見積もりを取る）",
        "現在の住まいの管理会社に引っ越し・退去の連絡",
        "インターネットの申し込み手続き",
        "インターネットの解約手続き",
        "新居の採寸",
        "勤務先への住所変更の届出",
        "新居物件契約と初期費用の支払い",
        "立ち合い日時の確定（賃貸の方のみ）",
        "NHKやサブすくの住所変更（契約者の方のみ）",
        "不要品・粗大ごみの処分方法の検討",
        "学校や園に転校・転園の連絡",
        "保育園・幼稚園の転園申請",
    ],
    "引っ越し3週間前までにやること": [
        "必要な梱包材を準備",
        "粗大ごみの収集申し込み",
        "不用品の仕分け",
        "新居の家具・家電のレイアウト検討",
        "新規で購入が必要なものの手配",
    ],
    "引っ越し14日前までにやること": [
        "使用頻度の低いものから梱包",
        "オフシーズンの衣類などの梱包",
        "必要な衣類・本などの処分・売却",
        "定期配達サービスの契約変更・解約（利用者のみ）",
    ],
    "引っ越し7日前までにやること": [
        "粗大ごみの処分",
        "使用頻度の高いものを梱包",
        "郵便局への連絡（転居・転送）",
        "転出届を出す",
        "児童手当や乳幼児医療費受給資格者証の手続き",
        "電気会社への停止・解約連絡（現住所）",
        "ガス会社への停止・解約連絡（現住所）",
        "水道局への停止・解約連絡（現住所）",
        "引っ越し挨拶の手土産の準備",
        "ゴミ出し",
    ],
    "引っ越し前日までにやること": [
        "洗濯機の水抜き",
        "冷蔵庫の中を空に、電源を切る",
        "引っ越し当日、すぐ使うものをまとめる",
        "旧居のお掃除",
        "引っ越し当日の新居までの移動方法を確認",
        "引っ越し挨拶（旧居）",
    ],
    "引っ越し当日にやること": [
        "引っ越し料金の支払い準備",
        "電力停止の立ち合い（現住所）",
        "ガス停止の立ち合い（現住所）",
        "水道の停止立ち合い（現住所）",
        "新居の初期状態の記録を残す（傷・汚れなど撮影）",
        "ガスの開栓の立ち合い（新居）",
        "水道局への開栓・開始連絡（新居）",
        "荷物の搬出",
        "搬出後の忘れ物がないかチェック",
        "搬出後の掃除、ゴミなどの処分",
        "退室前にブレーカーを下げる",
        "新居のブレーカーを上げる",
        "家具など大きいものから搬入",
        "夜になる前にカーテン・照明を設置",
    ],
    "引っ越し後1週間以内にやること": [
        "旧居の鍵返却と退去の立ち会い",
        "運転免許証の住所変更",
        "引っ越しの挨拶（新居・近隣）",
    ],
    "引っ越し後の14日以内にやること": [
        "転入届を出す",
        "マイナンバーカードの住所変更",
        "印鑑登録の住所変更・登録手続き",
        "児童手当の住所変更・認定請求書の提出",
        "乳幼児医療費受給資格証の住所変更・申請",
        "車検証の住所変更手続き",
        "銀行・保険・証券会社などの住所変更",
        "クレジットカードの住所変更手続き",
        "引っ越しのお知らせを友人などに送る",
    ]
}

# 一括登録処理
for category, tasks in tasks_data.items():
    for title in tasks:
        Task.objects.create(
            user=user, 
            title=title,
            category=category,
            is_done=False)
        print(f"追加: {title}")

print("✅ 雛形タスクの登録が完了しました！")
